<%= turbo_frame_tag comment do %>

    <%= render partial: "shared/comment_single", locals: { comment: comment, counter: counter } %>
    
    <% counter += 1 %>

    <% if counter <= 3 %>
        <ul id="nested-list-<%= comment.model_name.human.downcase %>-<%= comment.id %>">
            <%= render partial: "shared/comment", collection: comment.comments, locals: { counter: counter } %>
        </ul>
    <% else %>
        <ul id="nested-list-<%= comment.model_name.human.downcase %>-<%= comment.id %>">
        </ul>
    <% end %>

<% end %>