<% if @comment.commentable_type != "Post" %>
    <%= turbo_stream.append "nested-list-#{@comment.commentable_id}" do %>
        <%= turbo_frame_tag @comment do %>
            <%= render partial: "shared/comment_single", locals: { comment: @comment, counter: 0 } %>
        <% end %>
    <% end %>
<% else %>
    <%= turbo_stream.append "single-post" do %>
        <%= turbo_frame_tag @comment do %>
            <%= render partial: "shared/comment_single", locals: { comment: @comment, counter: 0 } %>
        <% end %>
    <% end %>
<% end %>

<%= turbo_stream.update dom_id(@comment.commentable, "new") do %>
    <%= button_to "Comment", new_comment_path, params: { commentable_type: @comment.commentable.model_name.human, commentable_id: @comment.commentable.id, root_id: @comment.root.id }, method: :get %>
<% end %>